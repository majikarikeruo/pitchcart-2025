{
  "name": "SlideHeatmapSchema",
  "schema": {
    "type": "object",
    "properties": {
      "items": {
        "type": "object",
        "properties": {
          "number": {
            "type": "number",
            "description": "スライド番号"
          },
          "title": {
            "type": "string",
            "description": "スライドのタイトル"
          },
          "content_score": {
            "type": "number",
            "minimum": 0,
            "maximum": 100,
            "description": "内容の充実度スコア"
          },
          "visual_score": {
            "type": "number",
            "minimum": 0,
            "maximum": 100,
            "description": "視覚的要素の効果スコア"
          },
          "improvement_count": {
            "type": "number",
            "description": "改善点の数"
          },
          "priority": {
            "type": "string",
            "enum": ["High", "Medium", "Low"],
            "description": "スライドの優先度"
          },
          "section_type": {
            "type": "string",
            "enum": ["setup", "problem", "solution", "evidence", "call_to_action"],
            "description": "スライドのセクションタイプ"
          },
          "issues": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "type": {
                  "type": "string",
                  "enum": ["content", "visual", "structure", "message"],
                  "description": "問題点の種類"
                },
                "description": {
                  "type": "string",
                  "description": "問題点の詳細"
                },
                "suggestion": {
                  "type": "string",
                  "description": "改善提案"
                },
                "impact": {
                  "type": "string",
                  "description": "この問題が与える影響"
                }
              },
              "required": ["type", "description", "suggestion", "impact"]
            }
          }
        },
        "required": ["number", "title", "content_score", "visual_score", "improvement_count", "priority", "section_type", "issues"]
      }
    },
    "required": ["items"]
  }
}
